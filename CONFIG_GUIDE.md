# Configuration Files Guide

## Overview
The Secret Santa application now uses JSON configuration files for event names and participant nicknames instead of hardcoding them in Python. This makes it easy to update names for each language without modifying code.

## Configuration Files

### 1. Event Names Configuration (`config/event_names.json`)

This file contains word lists used to generate event names for each supported language.

**Structure:**
```json
{
  "locale_code": {
    "adjectives": ["word1", "word2", ...],
    "nouns": ["word1", "word2", ...],
    "activities": ["word1", "word2", ...],
    "themes": ["phrase1", "phrase2", ...]
  }
}
```

**Supported Locales:**
- `en` - English
- `es_MX` - Spanish (Mexico)
- `es_CR` - Spanish (Costa Rica)
- `es_CO` - Spanish (Colombia)
- `es_AR` - Spanish (Argentina)
- `es_ES` - Spanish (Spain)

**Example Usage:**
Names are generated by combining words from these lists:
- **Adjective + Noun + Activity** → "Merry Christmas Party 2025"
- **Theme** → "Winter Wonderland Secret Santa 2025"
- **Adjective + Noun & Noun** → "Merry Christmas Party & Cookie Exchange"

### 2. Nicknames Configuration (`config/nicknames.json`)

This file contains a list of funny/culturally relevant nicknames for each language.

**Structure:**
```json
{
  "locale_code": [
    "nickname1",
    "nickname2",
    ...
  ]
}
```

**Example:**
- `en`: ["Super Santa", "Magical Rudolph", "Lucky Buddy", ...]
- `es_MX`: ["Super Cantinflas", "Mágico Chespirito", ...]
- `es_AR`: ["Super Maradona", "Mágico Messi", ...]

## How to Update Names

### Adding or Editing Event Names

1. Open `config/event_names.json`
2. Find the locale you want to edit (e.g., `es_MX`)
3. Edit the lists:
   - **adjectives**: Words describing the event (Festive, Magical, etc.)
   - **nouns**: Main event terms (Christmas Party, Holiday Celebration, etc.)
   - **activities**: Event types or descriptors (Celebration, Party, etc.)
   - **themes**: Pre-defined event name themes (complete phrases)

Example - Adding to Spanish (Mexico) event names:
```json
"es_MX": {
  "adjectives": [
    "Festivo",
    "Navideño",
    "Colorido",
    "Alegre",
    "Mi nuevo adjetivo aquí"  // ← New addition
  ],
  ...
}
```

### Adding or Editing Nicknames

1. Open `config/nicknames.json`
2. Find the locale you want to edit (e.g., `es_MX`)
3. Add new nicknames to the array:

```json
"es_MX": [
  "Super Cantinflas",
  "Mágico Chespirito",
  "Nuevo Nombre Aquí",  // ← New addition
  ...
]
```

## How It Works in Code

### Event Names Generator
```python
from event_names import generate_event_name, get_random_event_names

# Generate a single event name
name = generate_event_name(style="default", locale="es_MX")
# Output: "Alegre Posadas de Celebración"

# Get 5 random suggestions
suggestions = get_random_event_names(count=5, locale="en")
```

### Nicknames Generator
```python
from nickname_generator import generate_nickname, get_random_nicknames

# Generate a single nickname
nickname = generate_nickname(locale="es_MX")
# Output: "Super Cantinflas"

# Get 5 random nicknames
suggestions = get_random_nicknames(count=5, locale="en")
```

## Deployment After Changes

After editing the JSON configuration files:

1. **Local Testing** (optional):
   ```bash
   python3 << 'EOF'
   from event_names import get_random_event_names
   from nickname_generator import get_random_nicknames
   
   print(get_random_event_names(3, locale="es_MX"))
   print(get_random_nicknames(3, locale="es_MX"))
   EOF
   ```

2. **Commit Changes**:
   ```bash
   git add config/event_names.json config/nicknames.json
   git commit -m "config: update event names and nicknames for [language]"
   ```

3. **Push to Production**:
   ```bash
   git push origin main
   # The production server will automatically pull changes on next deployment
   ```

## Best Practices

1. **Keep Lists Diverse**: Add variety to avoid repetitive name generation
2. **Maintain Locale Consistency**: Ensure all locales have similar numbers of items
3. **Cultural Relevance**: Use names that make sense to users in that region
4. **Testing**: Test name generation after updates to ensure they look good
5. **Backup**: Keep backups of the original files if making major changes

## Troubleshooting

**Issue**: Names aren't generating from my updates
- **Solution**: Verify JSON syntax is valid (use a JSON validator)
- **Solution**: Restart the application to reload cached configuration
- **Solution**: Check that you're editing the correct locale code

**Issue**: Getting fallback names instead of custom ones
- **Solution**: Ensure the `config/` folder exists at the application root
- **Solution**: Check file permissions allow reading `config/event_names.json` and `config/nicknames.json`
- **Solution**: Review application logs for configuration loading errors

## Configuration Cache

The application caches configuration files in memory using `@lru_cache`. If you modify JSON files on a running production server:

1. Changes won't take effect immediately
2. You need to restart the application for changes to load
3. This is why we recommend git-based deployments that restart containers

